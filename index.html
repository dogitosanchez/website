<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Website for My BF</title>
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/shinyjs@2.0.0"></script>
</head>
<body>

<script>
$(document).ready(function(){
  // Set background image with size using shinyjs
  Shiny.addCustomMessageHandler("set_background", function(message) {
    document.body.style.backgroundImage = "url(\'https://i.pinimg.com/564x/70/b7/11/70b71114a4074364a6412d205a551e39.jpg\')";
    document.body.style.width = "100%";
    document.body.style.height = "100%";
    document.body.style.backgroundSize = "cover";
    document.body.style.backgroundRepeat = "no-repeat";
  });
});
</script>

<div id="container" style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh;">
  <form id="questionForm">
    <p style="font-family: 'Comic Sans MS', cursive; font-size: 100px; text-align: center; color: #333;">Tu m'aimes?</p>
    <label for="answer" style="font-size: 30px;">Choisis une option:</label>
    <input type="radio" name="answer" id="answer_yes" value="yes" inline="true"> <label for="answer_yes">Oui</label>
    <input type="radio" name="answer" id="answer_no" value="no" inline="true"> <label for="answer_no">Non</label>
    <br>
    <button type="button" id="submitBtn" style="display: block; margin: 20px auto;">Soumettre</button>
  </form>
  <br>
  <div id="gifOutput" style="text-align: center; margin-top: 50px;"></div>
</div>

<script>
$(document).ready(function(){
  // Trigger Shiny events on button click
  $("#submitBtn").click(function(){
    var answer = $("input[name='answer']:checked").val();
    Shiny.onInputChange("answer", answer);
    Shiny.setInputValue("submitBtn", Math.random()); // To trigger observeEvent
  });
});

// Shiny server logic
function shinyServer() {
  Shiny.addCustomMessageHandler("render_gif", function(message) {
    if (message.answer === "yes") {
      $("#gifOutput").html('<img src="https://media4.giphy.com/media/toYIS95xETUPLmU9WP/200w.gif?cid=6c09b952uoagrq3edqz7fn3ytpe3kv2nrnlellcb9s307nx7&ep=v1_gifs_search&rid=200w.gif&ct=g" alt="Yes GIF" style="width: 500px; height: 500px;">');
    } else if (message.answer === "no") {
      $("#gifOutput").html('<img src="https://media.tenor.com/HFTGp2mOONcAAAAM/cry-crying.gif" alt="No GIF" style="width: 500px; height: 500px;">');
    }
  });
}
</script>

</body>
</html>
